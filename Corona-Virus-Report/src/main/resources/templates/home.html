<!DOCTYPE html>
<html>
<head>

<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<meta charset="ISO-8859-1">
<title>COVID-19 Tracker</title>
</head>
<body>

<div class="container">
  <div class="jumbotron">
    <h4>COVID-19 Tracker</h4>      
    <p>Shows the latest cases of Covid-19 cases country wise...</p>
    <hr>
    Total number of cases: <span th:text="${totalCases}" />
    <br>
    Total number of cases today: <span th:text="${totalCasesToday}" />
    <hr>
    Total number of cases in India: <span th:text="${totalCasesIndia}" />
    <br>
    Total number of cases today in India: <span th:text="${totalCasesTodayIndia}" />
  </div>
  <div class="">
  <h2>Filterable Table</h2>
  <p>Type something in the input field to search the table for Country, State :</p>  
  <input class="form-control" id="covidInput" type="text" placeholder="Search..">
  </div>
 <table class="table">
  <thead>
    <tr>
      <th scope="col">Country</th>
      <th scope="col">State</th>
      <th scope="col">Total Cases</th>
      <th scope="col">Latest Cases</th>
    </tr>
  </thead>
  <tbody id="covidTable">
    <tr scope="row" th:each="CoronaLocationStat: ${CoronaLocationStats}">
       <td > 
       <a  th:text="${CoronaLocationStat.country}" th:href="@{country(country=${CoronaLocationStat.country},state=${CoronaLocationStat.state})}"></a></td>
       <td th:text="${CoronaLocationStat.state}">--</td>
       <td th:text="${CoronaLocationStat.totalCases}">0</td>
       <td th:text="${CoronaLocationStat.latestCases}">0</td>
    </tr>
  </tbody>
</table>
</div>


<script>
$(document).ready(function(){
  $("#covidInput").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#covidTable tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});
</script>


</body>
</html>